/* ==========================================
   NEUROFLOW - INTERNATIONALIZATION (i18n)
   3 til tizimi: O'zbek, Rus, Ingliz
   ========================================== */

const translations = {
    uz: {
        appName: "NeuroFlow",
        level: "Daraja",
        totalXP: "Jami XP",
        streak: "Ketma-ketlik",
        dailyChallenge: "Kunlik Challenge",
        
        // Games
        colorflow: "ColorFlow",
        colorflowDesc: "Ranglarni eslang",
        reactionpulse: "ReactionPulse",
        reactionpulseDesc: "Reaktsiya tezligi",
        patternmind: "PatternMind",
        patternmindDesc: "Naqshni eslang",
        mathzen: "MathZen",
        mathzenDesc: "Tez hisoblash",
        breathebalance: "BreatheBalance",
        breathebalanceDesc: "Nafas meditatsiyasi",
        
        // Buttons
        viewStats: "ðŸ“Š Statistikani ko'rish",
        back: "Orqaga",
        start: "Boshlash",
        continue: "Davom etish",
        tryAgain: "Qayta urinish",
        
        // Stats
        statistics: "Statistika",
        gamesPlayed: "O'yinlar soni",
        avgScore: "O'rtacha ball",
        bestScore: "Eng yaxshi natija",
        totalTime: "Jami vaqt",
        
        // Messages
        correct: "To'g'ri!",
        wrong: "Xato!",
        excellent: "A'lo!",
        goodJob: "Yaxshi!",
        keepGoing: "Davom eting!",
        levelUp: "Daraja oshdi!",
        newRecord: "Yangi rekord!",
        dailyCompleted: "Kunlik vazifa bajarildi!",
        
        // ColorFlow
        colorflow_title: "Ranglarni eslang",
        colorflow_instruction: "Ranglar ketma-ketligini eslang va takrorlang",
        colorflow_ready: "Tayyor?",
        colorflow_watch: "Kuzating...",
        colorflow_yourTurn: "Sizning navbatingiz!",
        colorflow_score: "Ball",
        colorflow_round: "Raund",
        
        // ReactionPulse
        reaction_title: "Reaktsiya Testi",
        reaction_instruction: "Yashil rang paydo bo'lganda tezda bosing!",
        reaction_wait: "Kuting...",
        reaction_click: "BOSING!",
        reaction_tooEarly: "Juda erta!",
        reaction_avgTime: "O'rtacha vaqt",
        
        // PatternMind
        pattern_title: "Naqshni Eslang",
        pattern_instruction: "Naqshni eslang va qayta yarating",
        pattern_memorize: "Eslab qoling",
        pattern_recall: "Qayta yarating",
        pattern_gridSize: "O'lcham",
        
        // MathZen
        math_title: "Tez Hisoblash",
        math_instruction: "Matematik masalalarni tezda yeching",
        math_timeLeft: "Qolgan vaqt",
        math_solved: "Yechildi",
        
        // BreatheBalance
        breathe_title: "Nafas Meditatsiyasi",
        breathe_instruction: "Nafasingizni doira bilan sinxronlang",
        breathe_inhale: "Nafas oling",
        breathe_hold: "Ushlab turing",
        breathe_exhale: "Nafas chiqaring",
        breathe_cycle: "Tsikl",
        breathe_calm: "Sizning tinchlik darajangiz oshdi!",
    },
    
    ru: {
        appName: "NeuroFlow",
        level: "Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ",
        totalXP: "Ð’ÑÐµÐ³Ð¾ XP",
        streak: "Ð¡ÐµÑ€Ð¸Ñ",
        dailyChallenge: "Ð•Ð¶ÐµÐ´Ð½ÐµÐ²Ð½Ñ‹Ð¹ Ð²Ñ‹Ð·Ð¾Ð²",
        
        // Games
        colorflow: "ColorFlow",
        colorflowDesc: "Ð—Ð°Ð¿Ð¾Ð¼Ð½Ð¸Ñ‚Ðµ Ñ†Ð²ÐµÑ‚Ð°",
        reactionpulse: "ReactionPulse",
        reactionpulseDesc: "Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ Ñ€ÐµÐ°ÐºÑ†Ð¸Ð¸",
        patternmind: "PatternMind",
        patternmindDesc: "Ð—Ð°Ð¿Ð¾Ð¼Ð½Ð¸Ñ‚Ðµ ÑƒÐ·Ð¾Ñ€",
        mathzen: "MathZen",
        mathzenDesc: "Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‡Ñ‘Ñ‚",
        breathebalance: "BreatheBalance",
        breathebalanceDesc: "Ð”Ñ‹Ñ…Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð¼ÐµÐ´Ð¸Ñ‚Ð°Ñ†Ð¸Ñ",
        
        // Buttons
        viewStats: "ðŸ“Š ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÑƒ",
        back: "ÐÐ°Ð·Ð°Ð´",
        start: "ÐÐ°Ñ‡Ð°Ñ‚ÑŒ",
        continue: "ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ",
        tryAgain: "ÐŸÐ¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ½Ð¾Ð²Ð°",
        
        // Stats
        statistics: "Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°",
        gamesPlayed: "Ð˜Ð³Ñ€ ÑÑ‹Ð³Ñ€Ð°Ð½Ð¾",
        avgScore: "Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ ÑÑ‡Ñ‘Ñ‚",
        bestScore: "Ð›ÑƒÑ‡ÑˆÐ¸Ð¹ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚",
        totalTime: "ÐžÐ±Ñ‰ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ",
        
        // Messages
        correct: "ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾!",
        wrong: "ÐÐµÐ²ÐµÑ€Ð½Ð¾!",
        excellent: "ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾!",
        goodJob: "Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾!",
        keepGoing: "ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð°Ð¹Ñ‚Ðµ!",
        levelUp: "Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ Ð¿Ð¾Ð²Ñ‹ÑˆÐµÐ½!",
        newRecord: "ÐÐ¾Ð²Ñ‹Ð¹ Ñ€ÐµÐºÐ¾Ñ€Ð´!",
        dailyCompleted: "Ð•Ð¶ÐµÐ´Ð½ÐµÐ²Ð½Ð°Ñ Ð·Ð°Ð´Ð°Ñ‡Ð° Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð°!",
        
        // ColorFlow
        colorflow_title: "Ð—Ð°Ð¿Ð¾Ð¼Ð½Ð¸Ñ‚Ðµ Ñ†Ð²ÐµÑ‚Ð°",
        colorflow_instruction: "Ð—Ð°Ð¿Ð¾Ð¼Ð½Ð¸Ñ‚Ðµ Ð¸ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚Ðµ Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ Ñ†Ð²ÐµÑ‚Ð¾Ð²",
        colorflow_ready: "Ð“Ð¾Ñ‚Ð¾Ð²Ñ‹?",
        colorflow_watch: "Ð¡Ð¼Ð¾Ñ‚Ñ€Ð¸Ñ‚Ðµ...",
        colorflow_yourTurn: "Ð’Ð°Ñˆ Ñ…Ð¾Ð´!",
        colorflow_score: "Ð¡Ñ‡Ñ‘Ñ‚",
        colorflow_round: "Ð Ð°ÑƒÐ½Ð´",
        
        // ReactionPulse
        reaction_title: "Ð¢ÐµÑÑ‚ Ñ€ÐµÐ°ÐºÑ†Ð¸Ð¸",
        reaction_instruction: "ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ ÐºÐ°Ðº Ð¼Ð¾Ð¶Ð½Ð¾ Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ, ÐºÐ¾Ð³Ð´Ð° Ð¿Ð¾ÑÐ²Ð¸Ñ‚ÑÑ Ð·ÐµÐ»Ñ‘Ð½Ñ‹Ð¹ Ñ†Ð²ÐµÑ‚!",
        reaction_wait: "Ð–Ð´Ð¸Ñ‚Ðµ...",
        reaction_click: "Ð–ÐœÐ˜Ð¢Ð•!",
        reaction_tooEarly: "Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ Ñ€Ð°Ð½Ð¾!",
        reaction_avgTime: "Ð¡Ñ€ÐµÐ´Ð½ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ",
        
        // PatternMind
        pattern_title: "Ð—Ð°Ð¿Ð¾Ð¼Ð½Ð¸Ñ‚Ðµ ÑƒÐ·Ð¾Ñ€",
        pattern_instruction: "Ð—Ð°Ð¿Ð¾Ð¼Ð½Ð¸Ñ‚Ðµ ÑƒÐ·Ð¾Ñ€ Ð¸ Ð²Ð¾ÑÑÐ¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ ÐµÐ³Ð¾",
        pattern_memorize: "Ð—Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð¹Ñ‚Ðµ",
        pattern_recall: "Ð’Ð¾ÑÑÐ¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ",
        pattern_gridSize: "Ð Ð°Ð·Ð¼ÐµÑ€",
        
        // MathZen
        math_title: "Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‡Ñ‘Ñ‚",
        math_instruction: "Ð ÐµÑˆÐ°Ð¹Ñ‚Ðµ Ð¼Ð°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð·Ð°Ð´Ð°Ñ‡Ð¸ ÐºÐ°Ðº Ð¼Ð¾Ð¶Ð½Ð¾ Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ",
        math_timeLeft: "ÐžÑÑ‚Ð°Ð»Ð¾ÑÑŒ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸",
        math_solved: "Ð ÐµÑˆÐµÐ½Ð¾",
        
        // BreatheBalance
        breathe_title: "Ð”Ñ‹Ñ…Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð¼ÐµÐ´Ð¸Ñ‚Ð°Ñ†Ð¸Ñ",
        breathe_instruction: "Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð´Ñ‹Ñ…Ð°Ð½Ð¸Ðµ Ñ ÐºÑ€ÑƒÐ³Ð¾Ð¼",
        breathe_inhale: "Ð’Ð´Ð¾Ñ…",
        breathe_hold: "Ð—Ð°Ð´ÐµÑ€Ð¶Ð¸Ñ‚Ðµ",
        breathe_exhale: "Ð’Ñ‹Ð´Ð¾Ñ…",
        breathe_cycle: "Ð¦Ð¸ÐºÐ»",
        breathe_calm: "Ð’Ð°Ñˆ ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ ÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¸Ñ Ð¿Ð¾Ð²Ñ‹ÑÐ¸Ð»ÑÑ!",
    },
    
    en: {
        appName: "NeuroFlow",
        level: "Level",
        totalXP: "Total XP",
        streak: "Streak",
        dailyChallenge: "Daily Challenge",
        
        // Games
        colorflow: "ColorFlow",
        colorflowDesc: "Remember colors",
        reactionpulse: "ReactionPulse",
        reactionpulseDesc: "Reaction speed",
        patternmind: "PatternMind",
        patternmindDesc: "Remember pattern",
        mathzen: "MathZen",
        mathzenDesc: "Quick math",
        breathebalance: "BreatheBalance",
        breathebalanceDesc: "Breathing meditation",
        
        // Buttons
        viewStats: "ðŸ“Š View Statistics",
        back: "Back",
        start: "Start",
        continue: "Continue",
        tryAgain: "Try Again",
        
        // Stats
        statistics: "Statistics",
        gamesPlayed: "Games Played",
        avgScore: "Average Score",
        bestScore: "Best Score",
        totalTime: "Total Time",
        
        // Messages
        correct: "Correct!",
        wrong: "Wrong!",
        excellent: "Excellent!",
        goodJob: "Good job!",
        keepGoing: "Keep going!",
        levelUp: "Level up!",
        newRecord: "New record!",
        dailyCompleted: "Daily challenge completed!",
        
        // ColorFlow
        colorflow_title: "Remember Colors",
        colorflow_instruction: "Remember and repeat the color sequence",
        colorflow_ready: "Ready?",
        colorflow_watch: "Watch...",
        colorflow_yourTurn: "Your turn!",
        colorflow_score: "Score",
        colorflow_round: "Round",
        
        // ReactionPulse
        reaction_title: "Reaction Test",
        reaction_instruction: "Click as fast as you can when you see green!",
        reaction_wait: "Wait...",
        reaction_click: "CLICK!",
        reaction_tooEarly: "Too early!",
        reaction_avgTime: "Average time",
        
        // PatternMind
        pattern_title: "Remember Pattern",
        pattern_instruction: "Remember the pattern and recreate it",
        pattern_memorize: "Memorize",
        pattern_recall: "Recall",
        pattern_gridSize: "Size",
        
        // MathZen
        math_title: "Quick Math",
        math_instruction: "Solve math problems as fast as you can",
        math_timeLeft: "Time left",
        math_solved: "Solved",
        
        // BreatheBalance
        breathe_title: "Breathing Meditation",
        breathe_instruction: "Synchronize your breathing with the circle",
        breathe_inhale: "Breathe in",
        breathe_hold: "Hold",
        breathe_exhale: "Breathe out",
        breathe_cycle: "Cycle",
        breathe_calm: "Your calmness level increased!",
    }
};

// Current language
let currentLang = 'uz';

// Initialize i18n
function initI18n() {
    // Check saved language
    const savedLang = localStorage.getItem('neuroflow_lang');
    if (savedLang && translations[savedLang]) {
        currentLang = savedLang;
        document.getElementById('langSelect').value = savedLang;
    }
    
    updatePageLanguage();
}

// Update all text elements
function updatePageLanguage() {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[currentLang][key]) {
            el.textContent = translations[currentLang][key];
        }
    });
}

// Change language
function changeLanguage(lang) {
    if (translations[lang]) {
        currentLang = lang;
        localStorage.setItem('neuroflow_lang', lang);
        updatePageLanguage();
    }
}

// Get translation
function t(key) {
    return translations[currentLang][key] || key;
}

// Export for use in other files
window.i18n = {
    init: initI18n,
    change: changeLanguage,
    t: t,
    getCurrentLang: () => currentLang
};
